CXX = g++

ROOT_DIR =`root-config --prefix` 

# Delphes directory
DELPHES_DIR = ${DELPHES_HOME}

#Rivet
RIVET_DIR = `rivet-config --libdir`
RIVET_LIBS = `rivet-config --libs`
RIVET_LDFALGS=`rivet-config --ldflags`
RIVET_CXXFLAGS=`rivet-config --cppflags`

CXXFLAGS = -g -fsanitize=address `root-config --cflags`
CXXFLAGS += -I$(DELPHES_DIR) -I$(DELPHES_DIR)/external
CXXFLAGS += $(RIVET_CXXFLAGS)

#LDFLAGS  = -ld_classic  -L$(shell $(ROOT_DIR)/bin/root-config --libs) -lRooFit -lRooStats  -lRooFitCore
ROOTLIBS = `root-config --libs` -lRooFit -lRooStats  -lRooFitCore

LDFLAGS = -L$(DELPHES_DIR) -lDelphes -rpath $(DELPHES_DIR)
LDFLAGS  += $(ROOTLIBS)
LDFLAGS  += $(RIVET_LDFALGS)



all: zAnalyzer

clean:
	rm -f zAnalyzer

%: %.cpp
	$(CXX) $(CXXFLAGS)  -o $@ $^ $(LDFLAGS)