CXX = g++

ROOT_DIR =`root-config --prefix` 

# Delphes directory
DELPHES_DIR = ${DELPHES_HOME}

CXXFLAGS = -g -fsanitize=address `root-config --cflags`
CXXFLAGS += -I$(DELPHES_DIR) -I$(DELPHES_DIR)/external

#LDFLAGS  = -ld_classic  -L$(shell $(ROOT_DIR)/bin/root-config --libs) -lRooFit -lRooStats  -lRooFitCore
ROOTLIBS = `root-config --libs` -lRooFit -lRooStats  -lRooFitCore

LDFLAGS = -ld_classic -L$(DELPHES_DIR) -lDelphes -rpath $(DELPHES_DIR)
LDFLAGS  += $(ROOTLIBS)

all: zhbb_analyze

clean:
	rm -f zhbb_analyze

%: %.cpp
	$(CXX) $(CXXFLAGS)  -o $@ $^ $(LDFLAGS)